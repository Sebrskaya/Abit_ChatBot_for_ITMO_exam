# Чат-бот для абитуриентов ИТМО

Этот проект реализует Telegram-бота на Python, который помогает абитуриентам получить информацию о магистерских программах **"Искусственный интеллект"** и **"AI Product"** в ИТМО. Бот использует локальную языковую модель (LLM) и данные, спарсенные с официального сайта [abit.itmo.ru](https://abit.itmo.ru/), чтобы отвечать на вопросы и давать рекомендации.

## Возможности

*   Ответы на вопросы о программах (описание, карьера, партнеры).
*   Рекомендации по выбору дисциплин на основе интересов и целей пользователя.
*   Сравнение программ "Искусственный интеллект" и "AI Product".
*   Работает полностью локально (без внешних API, кроме Telegram).

## Используемые технологии

*   **Python 3.x**
*   **Telegram Bot API** (`python-telegram-bot`)
*   **LangChain** (для создания цепочек и агентов)
*   **ChromaDB** (векторная база данных)
*   **Sentence Transformers** (для создания эмбеддингов текста)
*   **Llama.cpp** (`llama-cpp-python`) для запуска локальной LLM
*   **Selenium** (для парсинга данных с веб-сайта ИТМО)
*   **Hugging Face Hub** (для загрузки модели)

## Установка и запуск

### Предварительные требования

*   Установленный [Python 3.8 или выше](https://www.python.org/downloads/).
*   Установленный [Git](https://git-scm.com/downloads).
*   Установленный [Microsoft C++ Build Tools](https://visualstudio.microsoft.com/visual-cpp-build-tools/) (для Windows, необходимо для сборки `llama-cpp-python`).
*   Аккаунт Telegram и созданный бот через [@BotFather](https://t.me/BotFather) (запишите полученный **токен**).

### Шаги

1.  **Клонируйте репозиторий:**
    Откройте терминал и выполните:
    ```bash
    git clone https://github.com/ваш_логин/itmo-masters-chatbot.git
    cd itmo-masters-chatbot
    ```

2.  **Создайте виртуальное окружение (рекомендуется):**
    ```bash
    python -m venv venv
    # Активируйте его:
    # На Windows:
    venv\Scripts\activate
    # На macOS/Linux:
    # source venv/bin/activate
    ```

3.  **Установите зависимости:**
    ```bash
    pip install -r requirements.txt
    ```
    > **Примечание:** Установка `llama-cpp-python` может занять некоторое время, особенно на Windows.

4.  **Подготовьте данные:**
    *   Создайте файл `.env` в корне проекта и добавьте в него ваш Telegram-токен:
        ```
        TELEGRAM_BOT_TOKEN=ВАШ_ТОКЕН_ОТ_BOTFATHER
        ```
    *   **Запустите парсер:** Он скачает информацию о программах и учебные планы.
        ```bash
        python parse_itmo.py
        ```
    *   **Обработайте данные:** Преобразует текстовые файлы в формат для векторной БД.
        ```bash
        python process_data.py
        ```
    *   **Создайте векторную базу данных:**
        ```bash
        python Create_vector_db.py
        ```
        > При первом запуске скрипт также автоматически скачает модель `IlyaGusev/saiga2_7b_gguf` с HuggingFace в папку кэша. Это может занять несколько минут.

5.  **Запустите бота:**
    ```bash
    python bot.py
    ```
    Бот запустится и будет готов отвечать в Telegram.

## Использование

Найдите своего бота в Telegram по имени пользователя (`@...`), которое вы указали в BotFather. Начните диалог, например, с команды `/start`. Задавайте вопросы о программах ИТМО!

Примеры запросов:
*   "Расскажи о программе Искусственный интеллект"
*   "Чем отличаются AI и AI Product?"
*   "Какие курсы выбрать, если я хочу стать ML Engineer?"
*   "Сравни программы"

## Структура проекта

*   `bot.py`: Основной файл бота.
*   `local_llm.py`: Обертка для локальной LLM.
*   `parse_itmo.py`: Скрипт для парсинга данных с сайта ИТМО.
*   `process_data.py`: Скрипт для обработки спарсенных данных.
*   `Create_vector_db.py`: Скрипт для создания векторной базы данных.
*   `agent.py`, `tools.py`: Логика агента и инструментов (рекомендации, сравнение).
*   `downloads/`: Папка с файлами, скачанными парсером.
*   `processed_data/`: Папка с обработанными данными.
*   `vector_db/`: Папка с векторной базой данных ChromaDB.
*   `models/`: (Может быть создана) Папка для локальных файлов моделей (если вы скачаете модель вручную).
*   `.env`: Файл с секретами (токены). **Не коммитится в репозиторий.**
*   `requirements.txt`: Список зависимостей Python.

## Лицензия

All rights reserved.
